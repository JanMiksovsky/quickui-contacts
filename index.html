<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css" href="http://fast.fonts.com/cssapi/72bd3277-b253-4903-97d8-6a9d18744569.css" />

<link rel="stylesheet" type="text/css" href="/release/quickui-0.9.2.css" />
<link rel="stylesheet" type="text/css" href="/release/quickui.catalog-0.9.2.css" />
<link rel="stylesheet" type="text/css" href="contacts.css" />

<script type="text/javascript" src="lib/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="lib/underscore-min.js"></script>
<script type="text/javascript" src="lib/backbone-min.js"></script>
<script type="text/javascript" src="lib/backbone.localStorage-min.js"></script>

<script type="text/javascript" src="/release/quickui-0.9.2.js"></script>
<script type="text/javascript" src="/release/quickui.catalog-0.9.2.js"></script>
<script type="text/javascript" src="contacts.js"></script>

<script>
/*
 * Top function that creates the top-level View and Model and hands them to the
 * Presenter, which will wire them together. These are all created as top-level
 * globals to assist debugging.
 */
$( function() {
    
    /* Create a Contacts collection to serve as the top-level Model. */
    window.contacts = new Contacts();
    
    /* Create a ContactsPage control to serve as the top-level View. */
    window.contactsPage = $( document.body ).control( ContactsPage );
    
    window.contactsPresenter = new ContactsPresenter({
        el: contactsPage,
        model: window.contacts
    });

    /* Load the existing contacts collection. */
    contacts.fetch();

    if ( contacts.models.length === 0 ) {
        /* Initialize the contacts collection with samples. */
        contactsPresenter.samples();
    }
    
});
</script>

</head>

<!-- The empty body will populated entirely through script. -->
<body/>

</html>
